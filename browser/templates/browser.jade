doctype html
html
	head
		link(rel='stylesheet', href='css/browser.css')
		script.
			window.onresize = resizeLayout;
			function resizeLayout(){
				var allWebViews = document.querySelectorAll('webview');
				var controlsHeight = document.querySelector('#controls').offsetHeight;
				var windowWidth = document.documentElement.clientWidth;
				var windowHeight = document.documentElement.clientHeight;
				var webviewHeight = windowHeight - controlsHeight - 35;
				for(var i = 0; i < allWebViews.length; i++){
					var obj = allWebViews[i];
					obj.style.width = windowWidth + 'px';
					obj.style.height = webviewHeight + 'px';
				}
			}
		script.
			if (typeof module === 'object') {window.module = module; module = undefined;}
		script(src='https://code.jquery.com/jquery-3.1.0.min.js', integrity='sha256-cCueBR6CsyA4/9szpPfrX3s49M9vUU5BgtiJj06wt/s=', crossorigin='anonymous')
		script(src='src/new-browser.js')
		script.
			if (window.module) module = window.module;
		script.
			$(document).ready(function(){
			    resizeLayout();
			});
	body
		.tab-control-group
			.tabs
			button#add-tab(title='Add Tab') +
			button#remove-tab(title='Remove Tab') -
		#controls
			button#back(title='Go Back', disabled='true')
				image#image(src='./images/back-arrow.png')
			button#forward(title='Go Forward', disabled='true')
				image#image(src='./images/forward-arrow.png')
			button#home(title='Go Home')
				image#image(src='./images/home.png')
			button#reload(title='Reload')
				image#refresh(src='./images/refresh.png')
			form#location-form
				#center-column
					input#location(type='text', value='home.html', onclick='this.focus();this.select()')
		.web-view-control-group
			// Where the web views go
		#sad-webview
			#sad-webview-icon 
			h2#crashed-label Mayday Mayday, we are going down!
			h2#killed-label What the %^$# did you do Jim!
			p
				| Something went wrong while displaying this webpage.
				| To continue, reload or go to another page.
		dialog#htmldialog
			h1 Load HTML
			p Enter your HTML into the text area, and click load
			textarea#htmlinput
			button#loadhtml Load
		dialog#cssdialog
			h1 Load CSS
			p Enter your CSS into the text area, and click load
			textarea#cssinput
			button#loadcss Load
		dialog#jsdialog
			h1 Run JS
			p Enter your Javascript into the text area, and click run
			textarea#jsinput
			button#runjs Run
		dialog#outlinedialog
			h1 Document Outline:
			#outline
			button#outlineclose Close